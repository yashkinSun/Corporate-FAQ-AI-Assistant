# =============================================================================
# Corporate FAQ AI Assistant - Environment Configuration Example
# =============================================================================
# Скопируйте этот файл в .env и заполните значения

# --- CORE SETTINGS (Обязательно к заполнению) ---

# Telegram Bot Token (получите у @BotFather)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# JWT Secret Key (сгенерируйте: openssl rand -hex 32)
JWT_SECRET_KEY=your_jwt_secret_key_here

# --- ADMINISTRATORS ---

# Telegram ID администраторов через запятую (получите через @userinfobot)
ADMIN_IDS=123456789

# ID основного оператора для эскалации диалогов
OPERATOR_ID=123456789

# --- DATABASE SETTINGS ---

# PostgreSQL
PG_USER=botvopros_user
PG_PASSWORD=your_secure_password_here
PG_DB=botvopros_db
PG_HOST=botvopros-postgres
PG_PORT=5432

# --- REDIS SETTINGS ---

# Основной Redis (для rate-limiting, db=0)
REDIS_HOST=botvopros-redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# --- CONTEXT MEMORY SETTINGS (Контекстная память диалогов) ---

# Включить/отключить контекстную память (True/False)
CONTEXT_MEMORY_ENABLED=True

# Максимальное количество сообщений в контексте пользователя
CONTEXT_MEMORY_MAX_MESSAGES=10

# Время жизни контекста в днях (автоматическая очистка)
CONTEXT_MEMORY_TTL_DAYS=7

# Номер базы данных Redis для контекстной памяти (отдельно от rate-limiting)
CONTEXT_MEMORY_REDIS_DB=1

# --- RATE LIMITING ---

# Включить rate-limiting (True/False)
RATE_LIMIT_ENABLED=True

# Минимальный интервал между сообщениями в Telegram (секунды)
TELEGRAM_RATE_LIMIT_SECONDS=5

# Максимальное количество нарушений перед блокировкой
TELEGRAM_RATE_LIMIT_MAX_VIOLATIONS=3

# Время блокировки при превышении лимита (секунды)
TELEGRAM_RATE_LIMIT_BLOCK_SECONDS=30

# --- FOLLOW-UP SETTINGS ---

# Включить follow-up предложения (True/False)
FOLLOWUP_ENABLED=True

# Режим follow-up: 'map' (на основе карты) или 'llm' (генерация через LLM)
FOLLOWUP_MODE=map

# --- RERANKING SETTINGS ---

# Включить LLM reranking (True/False)
RERANKING_ENABLED=True

# Модель для reranking
RERANKING_MODEL=gpt-4o-mini

# --- WEB INTERFACE ---

# Хост и порт веб-интерфейса
WEB_HOST=0.0.0.0
WEB_PORT=5000
WEB_DEBUG=False

# --- LOGGING ---

# Уровень логирования (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Путь к файлу логов
LOG_FILE=logs/bot.log

# --- CRM INTEGRATION (Опционально) ---

# Включить интеграцию с CRM (True/False)
CRM_ENABLED=False
CRM_ENDPOINT=
